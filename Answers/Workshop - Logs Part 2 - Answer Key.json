{"version":"5","defaultTimeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}},"sections":[{"id":"d882ccf2-7064-4ec5-8124-80b67c6c1bc9","type":"markdown","markdown":"##  Aggregations\n* The **SUMMARIZE** command groups together records that have the same values for a given field and aggregates them.\n* You can also set alias names to attributes within the summarize command.\n* The **MAKETIMESERIES** command creates a timeseries from the data in the stream. It provides a convenient way to chart raw non-metric data (such as events or logs) over time. \n\n## Exercise 1 \n1. Count the number of logs of each log level\n2. Count the number of logs of each log level and rename/alias the filed to \"level\"\n3. Count the number of logs of each log level on each host, removing \"NONE\" loglevels\n4. Visualize the number of error logs over time\n5. Visualize the number of logs of each log level over time\n6. Visualize the number of logs of each log level over time with 5 minute intervals"},{"id":"6cb50b33-ea96-46c6-8144-1823a55ef7d2","type":"dql","title":"Exercise 1.1 - Logs by Level","showTitle":false,"height":256,"state":{"input":{"value":"fetch logs\n| summarize count=count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"recordView","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"value":{"records":[{"loglevel":"DEBUG","count":"41668"},{"loglevel":"EMERGENCY","count":"14"},{"loglevel":"ERROR","count":"28957"},{"loglevel":"INFO","count":"566634"},{"loglevel":"NONE","count":"3286679"},{"loglevel":"NOTICE","count":"1951"},{"loglevel":"SEVERE","count":"566"},{"loglevel":"WARN","count":"26216"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| summarize by:{loglevel}, count = count()","timezone":"America/New_York","query":"fetch logs\n| summarize count=count(), by:{loglevel}","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":5351600207,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.778Z","end":"2024-03-28T15:17:16.778Z"},"locale":"und","executionTimeMilliseconds":1945,"notifications":[],"queryId":"5f1faa49-9178-4e87-9b57-7f9e50c632d0","sampled":false}},"types":[{"mappings":{"loglevel":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,7]}]},"code":200,"notifications":[],"dateTime":"2024-03-28T15:17:16.778Z","input":{"value":"fetch logs\n| summarize count=count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"31fa8848-0fe5-4c36-8e64-f7b8756e7424","type":"dql","title":"Exercise 1.2 - Logs by Level with Alias","showTitle":false,"height":256,"state":{"input":{"value":"fetch logs\n| summarize count=count(), by:{level=loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"recordView","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"level","categoryAxisLabel":"level","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"level"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"value":{"records":[{"level":"DEBUG","count":"41668"},{"level":"EMERGENCY","count":"14"},{"level":"ERROR","count":"28957"},{"level":"INFO","count":"566633"},{"level":"NONE","count":"3286679"},{"level":"NOTICE","count":"1951"},{"level":"SEVERE","count":"566"},{"level":"WARN","count":"26216"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| summarize by:{level = loglevel}, count = count()","timezone":"America/New_York","query":"fetch logs\n| summarize count=count(), by:{level=loglevel}","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":5351600207,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.783Z","end":"2024-03-28T15:17:16.783Z"},"locale":"und","executionTimeMilliseconds":1943,"notifications":[],"queryId":"b1cf4aba-4ee8-4f1f-a872-c4f25bb3beac","sampled":false}},"types":[{"mappings":{"level":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,7]}]},"code":200,"notifications":[],"dateTime":"2024-03-28T15:17:16.783Z","input":{"value":"fetch logs\n| summarize count=count(), by:{level=loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"e84228fd-dd4c-44db-9df2-d7961ccbb38d","type":"dql","title":"Exercise 1.3 - Logs by level and host, removing NONE","showTitle":false,"height":284,"state":{"input":{"value":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"loglevel":"DEBUG","host.name":"EC2AMAZ-8O2KTV8","count":"3"},{"loglevel":"DEBUG","host.name":"EC2AMAZ-8T48P8J","count":"68"},{"loglevel":"DEBUG","host.name":"EC2AMAZ-A09EAIO","count":"3"},{"loglevel":"DEBUG","host.name":"EC2AMAZ-Q60P03D","count":"3"},{"loglevel":"DEBUG","host.name":"backend","count":"5810"},{"loglevel":"DEBUG","host.name":"cloud_controller/3a424150-2fa9-49de-8147-92b7511ef8eb","count":"240"},{"loglevel":"DEBUG","host.name":"easytravelazure-client.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"3904"},{"loglevel":"DEBUG","host.name":"ip-10-0-142-174.ec2.internal","count":"193"},{"loglevel":"DEBUG","host.name":"ip-10-0-149-154.ec2.internal","count":"2"},{"loglevel":"DEBUG","host.name":"ip-172-31-0-223.ec2.internal","count":"312"},{"loglevel":"DEBUG","host.name":"ip-172-31-18-36.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-22-214.ec2.internal","count":"4078"},{"loglevel":"DEBUG","host.name":"ip-172-31-22-60.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-24-207.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-27-118.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-27-237.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-28-123.ec2.internal","count":"6"},{"loglevel":"DEBUG","host.name":"ip-172-31-29-81.ec2.internal","count":"324"},{"loglevel":"DEBUG","host.name":"ip-172-31-30-142.ec2.internal","count":"7232"},{"loglevel":"DEBUG","host.name":"ip-172-31-40-132.ec2.internal","count":"261"},{"loglevel":"DEBUG","host.name":"ip-172-31-92-244.ec2.internal","count":"6186"},{"loglevel":"DEBUG","host.name":"ls-ub-lb4ac00v.dev.lab.dynatrace.org","count":"1444"},{"loglevel":"DEBUG","host.name":"mysql/fa96ff4c-8290-47ef-80c1-bbca9b4c699d","count":"3595"},{"loglevel":"DEBUG","host.name":"mysql_monitor/a833414a-7d35-4e20-b5ba-d39028d5a978","count":"932"},{"loglevel":"DEBUG","host.name":"uaa/6403cd39-aa28-467a-8b4a-f278d20d39a1","count":"2804"},{"loglevel":"DEBUG","host.name":"weblauncher-demo.c.dynatrace-demoability.internal","count":"4118"},{"loglevel":"DEBUG","host.name":null,"count":"120"},{"loglevel":"EMERGENCY","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-27p6.c.dynatrace-demoability.internal","count":"10"},{"loglevel":"EMERGENCY","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-v1rm.c.dynatrace-demoability.internal","count":"4"},{"loglevel":"ERROR","host.name":"EC2AMAZ-8O2KTV8","count":"2"},{"loglevel":"ERROR","host.name":"EC2AMAZ-8T48P8J","count":"19"},{"loglevel":"ERROR","host.name":"EC2AMAZ-A09EAIO","count":"2"},{"loglevel":"ERROR","host.name":"EC2AMAZ-Q60P03D","count":"2"},{"loglevel":"ERROR","host.name":"backend","count":"472"},{"loglevel":"ERROR","host.name":"backup_restore/bbaf1efb-862e-459e-b755-cdd6180e964f","count":"521"},{"loglevel":"ERROR","host.name":"clock_global/5f1a9f23-ff7b-4e4d-b4c0-4c332fc1c331","count":"3929"},{"loglevel":"ERROR","host.name":"cloud_controller/3a424150-2fa9-49de-8147-92b7511ef8eb","count":"1296"},{"loglevel":"ERROR","host.name":"cloud_controller/6e9d5ec2-b134-4e38-a58e-656911213c07","count":"1263"},{"loglevel":"ERROR","host.name":"cloud_controller_worker/9c3967c4-5756-477e-ae38-35042ca43e38","count":"535"},{"loglevel":"ERROR","host.name":"credhub/8ea6cb53-4f1b-4aa4-a4c2-4611038f30e1","count":"539"},{"loglevel":"ERROR","host.name":"diego_brain/088e39f8-d3df-4fe8-904f-315451a999ff","count":"854"},{"loglevel":"ERROR","host.name":"diego_cell/10ac4f1b-a114-4d6e-80bc-78f1f33cc9c8","count":"520"},{"loglevel":"ERROR","host.name":"diego_database/7e825966-4ec5-454d-a91e-6564f3f6b95d","count":"964"},{"loglevel":"ERROR","host.name":"doppler/1e336edc-af86-49f0-ac38-b840f661d24d","count":"2078"},{"loglevel":"ERROR","host.name":"easytravelazure-backend1.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"6"},{"loglevel":"ERROR","host.name":"easytravelazure-client.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"291"},{"loglevel":"ERROR","host.name":"easytravelazure-frontend1.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"2"},{"loglevel":"ERROR","host.name":"gke-beta-e2-custom-2-4096-cdc84104-2z12.c.dynatrace-demoability.internal","count":"3441"},{"loglevel":"ERROR","host.name":"gke-beta-e2-custom-2-4096-cdc84104-840d.c.dynatrace-demoability.internal","count":"33"},{"loglevel":"ERROR","host.name":"gke-beta-e2-custom-2-4096-cdc84104-b6bl.c.dynatrace-demoability.internal","count":"4468"},{"loglevel":"ERROR","host.name":"gke-ext-demo1-e2-standard-2-0f6db7f7-mmmr.c.dynatrace-demoability.internal","count":"9"},{"loglevel":"ERROR","host.name":"ip-10-0-135-191.ec2.internal","count":"4"},{"loglevel":"ERROR","host.name":"ip-10-0-142-174.ec2.internal","count":"5"},{"loglevel":"ERROR","host.name":"ip-10-0-149-154.ec2.internal","count":"5"},{"loglevel":"ERROR","host.name":"ip-10-0-169-199.ec2.internal","count":"19"},{"loglevel":"ERROR","host.name":"ip-172-31-0-223.ec2.internal","count":"52"},{"loglevel":"ERROR","host.name":"ip-172-31-18-36.ec2.internal","count":"106"},{"loglevel":"ERROR","host.name":"ip-172-31-22-214.ec2.internal","count":"90"},{"loglevel":"ERROR","host.name":"ip-172-31-22-60.ec2.internal","count":"3"},{"loglevel":"ERROR","host.name":"ip-172-31-24-207.ec2.internal","count":"3"},{"loglevel":"ERROR","host.name":"ip-172-31-27-118.ec2.internal","count":"84"},{"loglevel":"ERROR","host.name":"ip-172-31-27-237.ec2.internal","count":"68"},{"loglevel":"ERROR","host.name":"ip-172-31-28-123.ec2.internal","count":"98"},{"loglevel":"ERROR","host.name":"ip-172-31-29-81.ec2.internal","count":"53"},{"loglevel":"ERROR","host.name":"ip-172-31-30-142.ec2.internal","count":"797"},{"loglevel":"ERROR","host.name":"ip-172-31-40-132.ec2.internal","count":"194"},{"loglevel":"ERROR","host.name":"ip-172-31-92-244.ec2.internal","count":"29"},{"loglevel":"ERROR","host.name":"loggregator_trafficcontroller/19b46190-a1a6-47c8-99bb-34606e869b0f","count":"578"},{"loglevel":"ERROR","host.name":"ls-ub-lb4ac00v.dev.lab.dynatrace.org","count":"87"},{"loglevel":"ERROR","host.name":"mysql/fa96ff4c-8290-47ef-80c1-bbca9b4c699d","count":"523"},{"loglevel":"ERROR","host.name":"mysql_monitor/a833414a-7d35-4e20-b5ba-d39028d5a978","count":"522"},{"loglevel":"ERROR","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","count":"537"},{"loglevel":"ERROR","host.name":"nats/47813f0e-663b-457c-b606-2025bd89a207","count":"526"},{"loglevel":"ERROR","host.name":"nfs_server/4abe199b-f042-4155-999e-4163049ca9f7","count":"405"},{"loglevel":"ERROR","host.name":"router/20ead2ea-5c39-468b-900c-841befb5a15d","count":"1078"},{"loglevel":"ERROR","host.name":"uaa/6403cd39-aa28-467a-8b4a-f278d20d39a1","count":"537"},{"loglevel":"ERROR","host.name":"weblauncher-demo.c.dynatrace-demoability.internal","count":"94"},{"loglevel":"ERROR","host.name":"weblauncher-et-demo1.lab.dynatrace.org","count":"975"},{"loglevel":"ERROR","host.name":null,"count":"239"},{"loglevel":"INFO","host.name":"37b44924e11e","count":"254"},{"loglevel":"INFO","host.name":"EC2AMAZ-8O2KTV8","count":"16"},{"loglevel":"INFO","host.name":"EC2AMAZ-8T48P8J","count":"128"},{"loglevel":"INFO","host.name":"EC2AMAZ-A09EAIO","count":"15"},{"loglevel":"INFO","host.name":"EC2AMAZ-BFHGR3B","count":"147"},{"loglevel":"INFO","host.name":"EC2AMAZ-Q60P03D","count":"19"},{"loglevel":"INFO","host.name":"b3a84b3b7ceb","count":"386"},{"loglevel":"INFO","host.name":"backend","count":"81741"},{"loglevel":"INFO","host.name":"backup_restore/bbaf1efb-862e-459e-b755-cdd6180e964f","count":"36"},{"loglevel":"INFO","host.name":"clock_global/5f1a9f23-ff7b-4e4d-b4c0-4c332fc1c331","count":"8542"},{"loglevel":"INFO","host.name":"cloud_controller/3a424150-2fa9-49de-8147-92b7511ef8eb","count":"8586"},{"loglevel":"INFO","host.name":"cloud_controller/6e9d5ec2-b134-4e38-a58e-656911213c07","count":"7822"},{"loglevel":"INFO","host.name":"cloud_controller_worker/9c3967c4-5756-477e-ae38-35042ca43e38","count":"26"},{"loglevel":"INFO","host.name":"credhub/8ea6cb53-4f1b-4aa4-a4c2-4611038f30e1","count":"54"},{"loglevel":"INFO","host.name":"demo1-prometheus.c.dynatrace-demoability.internal","count":"30"},{"loglevel":"INFO","host.name":"diego_brain/088e39f8-d3df-4fe8-904f-315451a999ff","count":"7173"},{"loglevel":"INFO","host.name":"diego_cell/10ac4f1b-a114-4d6e-80bc-78f1f33cc9c8","count":"13022"},{"loglevel":"INFO","host.name":"diego_database/7e825966-4ec5-454d-a91e-6564f3f6b95d","count":"10335"},{"loglevel":"INFO","host.name":"doppler/1e336edc-af86-49f0-ac38-b840f661d24d","count":"7263"},{"loglevel":"INFO","host.name":"easytravel-demo1","count":"1568"},{"loglevel":"INFO","host.name":"easytravelazure-client.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"7438"},{"loglevel":"INFO","host.name":"frontend.jruwlwynjyeexprab4kldmvjrg.wawx.internal.cloudapp.net","count":"1"},{"loglevel":"INFO","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-27p6.c.dynatrace-demoability.internal","count":"18880"},{"loglevel":"INFO","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-kww7.c.dynatrace-demoability.internal","count":"469"},{"loglevel":"INFO","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-v1rm.c.dynatrace-demoability.internal","count":"5787"},{"loglevel":"INFO","host.name":"gke-beta-e2-custom-2-4096-cdc84104-1q3w.c.dynatrace-demoability.internal","count":"28"},{"loglevel":"INFO","host.name":"gke-beta-e2-custom-2-4096-cdc84104-2z12.c.dynatrace-demoability.internal","count":"3470"},{"loglevel":"INFO","host.name":"gke-beta-e2-custom-2-4096-cdc84104-840d.c.dynatrace-demoability.internal","count":"2046"},{"loglevel":"INFO","host.name":"gke-beta-e2-custom-2-4096-cdc84104-b6bl.c.dynatrace-demoability.internal","count":"18743"},{"loglevel":"INFO","host.name":"gke-ext-demo1-e2-standard-2-0f6db7f7-6cbk.c.dynatrace-demoability.internal","count":"354"},{"loglevel":"INFO","host.name":"gke-keptn-demo1-e2-custom-4-8192-08f6a08a-0x9z.c.dynatrace-demoability.internal","count":"5609"},{"loglevel":"INFO","host.name":"gke-keptn-demo1-e2-custom-4-8192-08f6a08a-dv0h.c.dynatrace-demoability.internal","count":"37014"},{"loglevel":"INFO","host.name":"ip-10-0-135-191.ec2.internal","count":"201"},{"loglevel":"INFO","host.name":"ip-10-0-142-174.ec2.internal","count":"862"},{"loglevel":"INFO","host.name":"ip-10-0-144-218.ec2.internal","count":"717"},{"loglevel":"INFO","host.name":"ip-10-0-149-154.ec2.internal","count":"1744"},{"loglevel":"INFO","host.name":"ip-10-0-169-199.ec2.internal","count":"1423"},{"loglevel":"INFO","host.name":"ip-172-31-0-223.ec2.internal","count":"4343"},{"loglevel":"INFO","host.name":"ip-172-31-18-36.ec2.internal","count":"26"},{"loglevel":"INFO","host.name":"ip-172-31-22-214.ec2.internal","count":"1178"},{"loglevel":"INFO","host.name":"ip-172-31-22-60.ec2.internal","count":"21"},{"loglevel":"INFO","host.name":"ip-172-31-24-207.ec2.internal","count":"17"},{"loglevel":"INFO","host.name":"ip-172-31-27-118.ec2.internal","count":"26"},{"loglevel":"INFO","host.name":"ip-172-31-27-237.ec2.internal","count":"26"},{"loglevel":"INFO","host.name":"ip-172-31-28-123.ec2.internal","count":"26"},{"loglevel":"INFO","host.name":"ip-172-31-29-81.ec2.internal","count":"58358"},{"loglevel":"INFO","host.name":"ip-172-31-30-142.ec2.internal","count":"3117"},{"loglevel":"INFO","host.name":"ip-172-31-40-132.ec2.internal","count":"15619"},{"loglevel":"INFO","host.name":"ip-172-31-92-244.ec2.internal","count":"68905"},{"loglevel":"INFO","host.name":"loggregator_trafficcontroller/19b46190-a1a6-47c8-99bb-34606e869b0f","count":"7584"},{"loglevel":"INFO","host.name":"ls-ub-lb4ac00v.dev.lab.dynatrace.org","count":"4802"},{"loglevel":"INFO","host.name":"mysql/fa96ff4c-8290-47ef-80c1-bbca9b4c699d","count":"36"},{"loglevel":"INFO","host.name":"mysql_monitor/a833414a-7d35-4e20-b5ba-d39028d5a978","count":"95"},{"loglevel":"INFO","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","count":"323"},{"loglevel":"INFO","host.name":"nats/47813f0e-663b-457c-b606-2025bd89a207","count":"36"},{"loglevel":"INFO","host.name":"nfs_server/4abe199b-f042-4155-999e-4163049ca9f7","count":"7331"},{"loglevel":"INFO","host.name":"router/20ead2ea-5c39-468b-900c-841befb5a15d","count":"7137"},{"loglevel":"INFO","host.name":"uaa/6403cd39-aa28-467a-8b4a-f278d20d39a1","count":"9368"},{"loglevel":"INFO","host.name":"weblauncher-demo.c.dynatrace-demoability.internal","count":"923"},{"loglevel":"INFO","host.name":"weblauncher-et-demo1.lab.dynatrace.org","count":"3089"},{"loglevel":"INFO","host.name":null,"count":"122298"},{"loglevel":"NOTICE","host.name":"EC2AMAZ-8T48P8J","count":"1930"},{"loglevel":"NOTICE","host.name":null,"count":"21"},{"loglevel":"SEVERE","host.name":"ip-172-31-30-142.ec2.internal","count":"438"},{"loglevel":"SEVERE","host.name":"weblauncher-demo.c.dynatrace-demoability.internal","count":"128"},{"loglevel":"WARN","host.name":"EC2AMAZ-8O2KTV8","count":"11"},{"loglevel":"WARN","host.name":"EC2AMAZ-8T48P8J","count":"11"},{"loglevel":"WARN","host.name":"EC2AMAZ-A09EAIO","count":"11"},{"loglevel":"WARN","host.name":"EC2AMAZ-Q60P03D","count":"11"},{"loglevel":"WARN","host.name":"backend","count":"5835"},{"loglevel":"WARN","host.name":"backup_restore/bbaf1efb-862e-459e-b755-cdd6180e964f","count":"86"},{"loglevel":"WARN","host.name":"clock_global/5f1a9f23-ff7b-4e4d-b4c0-4c332fc1c331","count":"320"},{"loglevel":"WARN","host.name":"cloud_controller/3a424150-2fa9-49de-8147-92b7511ef8eb","count":"182"},{"loglevel":"WARN","host.name":"cloud_controller/6e9d5ec2-b134-4e38-a58e-656911213c07","count":"181"},{"loglevel":"WARN","host.name":"cloud_controller_worker/9c3967c4-5756-477e-ae38-35042ca43e38","count":"87"},{"loglevel":"WARN","host.name":"credhub/8ea6cb53-4f1b-4aa4-a4c2-4611038f30e1","count":"89"},{"loglevel":"WARN","host.name":"demo1-prometheus.c.dynatrace-demoability.internal","count":"29"},{"loglevel":"WARN","host.name":"diego_brain/088e39f8-d3df-4fe8-904f-315451a999ff","count":"356"},{"loglevel":"WARN","host.name":"diego_cell/10ac4f1b-a114-4d6e-80bc-78f1f33cc9c8","count":"348"},{"loglevel":"WARN","host.name":"diego_database/7e825966-4ec5-454d-a91e-6564f3f6b95d","count":"356"},{"loglevel":"WARN","host.name":"doppler/1e336edc-af86-49f0-ac38-b840f661d24d","count":"258"},{"loglevel":"WARN","host.name":"easytravelazure-client.eewhjl1db2uunilgfoyhewaccf.ax.internal.cloudapp.net","count":"2"},{"loglevel":"WARN","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-27p6.c.dynatrace-demoability.internal","count":"3575"},{"loglevel":"WARN","host.name":"gke-alfa-e2-custom-2-4096-f061c10c-kww7.c.dynatrace-demoability.internal","count":"3661"},{"loglevel":"WARN","host.name":"gke-keptn-demo1-e2-custom-4-8192-08f6a08a-dv0h.c.dynatrace-demoability.internal","count":"1"},{"loglevel":"WARN","host.name":"ip-10-0-135-191.ec2.internal","count":"59"},{"loglevel":"WARN","host.name":"ip-10-0-149-154.ec2.internal","count":"61"},{"loglevel":"WARN","host.name":"ip-10-0-169-199.ec2.internal","count":"57"},{"loglevel":"WARN","host.name":"ip-172-31-18-36.ec2.internal","count":"842"},{"loglevel":"WARN","host.name":"ip-172-31-22-214.ec2.internal","count":"22"},{"loglevel":"WARN","host.name":"ip-172-31-22-60.ec2.internal","count":"15"},{"loglevel":"WARN","host.name":"ip-172-31-24-207.ec2.internal","count":"13"},{"loglevel":"WARN","host.name":"ip-172-31-27-118.ec2.internal","count":"940"},{"loglevel":"WARN","host.name":"ip-172-31-27-237.ec2.internal","count":"793"},{"loglevel":"WARN","host.name":"ip-172-31-28-123.ec2.internal","count":"808"},{"loglevel":"WARN","host.name":"ip-172-31-29-81.ec2.internal","count":"190"},{"loglevel":"WARN","host.name":"ip-172-31-30-142.ec2.internal","count":"4"},{"loglevel":"WARN","host.name":"ip-172-31-40-132.ec2.internal","count":"239"},{"loglevel":"WARN","host.name":"ip-172-31-92-244.ec2.internal","count":"5828"},{"loglevel":"WARN","host.name":"loggregator_trafficcontroller/19b46190-a1a6-47c8-99bb-34606e869b0f","count":"87"},{"loglevel":"WARN","host.name":"mysql/fa96ff4c-8290-47ef-80c1-bbca9b4c699d","count":"87"},{"loglevel":"WARN","host.name":"mysql_monitor/a833414a-7d35-4e20-b5ba-d39028d5a978","count":"86"},{"loglevel":"WARN","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","count":"89"},{"loglevel":"WARN","host.name":"nats/47813f0e-663b-457c-b606-2025bd89a207","count":"88"},{"loglevel":"WARN","host.name":"nfs_server/4abe199b-f042-4155-999e-4163049ca9f7","count":"87"},{"loglevel":"WARN","host.name":"router/20ead2ea-5c39-468b-900c-841befb5a15d","count":"264"},{"loglevel":"WARN","host.name":"uaa/6403cd39-aa28-467a-8b4a-f278d20d39a1","count":"89"},{"loglevel":"WARN","host.name":"weblauncher-demo.c.dynatrace-demoability.internal","count":"4"},{"loglevel":"WARN","host.name":"weblauncher-et-demo1.lab.dynatrace.org","count":"50"},{"loglevel":"WARN","host.name":null,"count":"4"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter isFalseOrNull(loglevel == \"NONE\")\n| summarize by:{loglevel, host.name}, count = count()","timezone":"America/New_York","query":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":5351600207,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.786Z","end":"2024-03-28T15:17:16.786Z"},"locale":"und","executionTimeMilliseconds":2003,"notifications":[],"queryId":"99fd33e2-feb8-4e4c-848e-85f45ff59b2b","sampled":false}},"types":[{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,25]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[26,26]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[27,77]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[78,78]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[79,138]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[139,139]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[140,140]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[141,141]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"string"},"count":{"type":"long"}},"indexRange":[142,187]},{"mappings":{"loglevel":{"type":"string"},"host.name":{"type":"undefined"},"count":{"type":"long"}},"indexRange":[188,188]}]},"notifications":[],"dateTime":"2024-03-28T15:17:16.785Z","input":{"value":"fetch logs\n| filterOut loglevel == \"NONE\"\n| summarize count = count(), by:{loglevel,host.name}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"d09cbbad-16eb-45a7-b99f-b2e2dc5e52dd","type":"dql","title":"Exercise 1.4 - Error logs over time","showTitle":false,"state":{"input":{"value":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["errorcount"],"leftAxisDimensions":[],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","errorcount":[769,1001,971,1002,950,998,951,972,987,994,979,944,977,970,992,1013,980,978,987,966,1028,1009,994,1014,1004,1027,1002,1000,1007,491,null]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"ERROR\"\n| makeTimeseries errorcount = count()","timezone":"America/New_York","query":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":318052982,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.788Z","end":"2024-03-28T15:17:16.788Z"},"locale":"und","executionTimeMilliseconds":42,"notifications":[],"queryId":"84b268e4-5258-4e0b-9642-bf55104d14c0","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"errorcount":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,30]}]}},"indexRange":[0,0]}]},"notifications":[],"dateTime":"2024-03-28T15:17:16.788Z","input":{"value":"fetch logs\n|filter loglevel == \"ERROR\"\n|makeTimeseries errorcount = count()","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"fc72cb42-4493-4b66-95e3-63669f622148","type":"dql","title":"Exercise 1.5 - Logs by level over time","showTitle":false,"state":{"input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count()"],"leftAxisDimensions":["loglevel"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"DEBUG","count()":[928,1378,1397,1450,1340,1396,1407,1292,1520,1378,1419,1380,1410,1537,1400,1330,1361,1426,1529,1391,1294,1324,1417,1473,1445,1422,1360,1299,2037,902,26]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"EMERGENCY","count()":[null,3,null,null,null,null,1,null,1,1,null,1,null,null,null,1,2,null,null,null,null,1,1,1,null,null,1,null,null,null,null]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"ERROR","count()":[769,1001,971,1002,950,998,951,972,987,994,979,944,977,970,992,1013,980,978,987,966,1028,1009,994,1014,1004,1027,1002,1000,1007,491,null]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"INFO","count()":[14367,19105,19268,18996,19514,19365,19189,18934,19905,19469,19325,19679,19666,19910,19060,19666,19936,19197,19099,20715,19014,18720,19308,19048,19255,19559,19996,18965,18965,9136,301]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"NONE","count()":[19139,74249,123603,175483,224165,22374,65796,126485,166493,218684,39746,50546,125934,217167,102079,23563,35023,173270,212575,21115,20144,121818,275420,22187,21495,123856,173343,225695,18454,64385,2392]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"NOTICE","count()":[27,88,59,66,60,72,88,24,90,68,92,55,43,41,66,60,68,56,54,53,71,93,64,84,88,73,49,59,81,59,null]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"SEVERE","count()":[11,18,22,18,14,14,19,19,23,20,18,20,22,24,20,15,19,21,18,17,22,13,28,19,26,19,21,14,22,10,null]},{"timeframe":{"start":"2024-03-28T14:47:00.000Z","end":"2024-03-28T15:18:00.000Z"},"interval":"60000000000","loglevel":"WARN","count()":[639,941,883,862,871,907,946,840,942,884,947,866,893,992,869,862,913,873,896,870,847,982,901,932,944,897,863,879,846,405,24]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| makeTimeseries by:{loglevel}, count()","timezone":"America/New_York","query":"fetch logs\n|makeTimeseries count(), by:{loglevel}","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":5351600207,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.791Z","end":"2024-03-28T15:17:16.791Z"},"locale":"und","executionTimeMilliseconds":1790,"notifications":[],"queryId":"17fac828-8b5a-4545-a4de-e97e6721b6e7","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"loglevel":{"type":"string"},"count()":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,30]}]}},"indexRange":[0,7]}]},"notifications":[],"dateTime":"2024-03-28T15:17:16.790Z","input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"fa36b1e4-d96b-44a1-881a-2f64f740ca4c","type":"dql","title":"Exercise 1.6 - Logs by level over time with 5 min interval","showTitle":false,"state":{"input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"barChart","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"loglevel","categoryAxisLabel":"loglevel","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["count()"],"leftAxisDimensions":["loglevel"],"fields":[],"values":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"loglevel"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"DEBUG","count()":[3703,6885,7107,7054,6955,6999,2965]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"EMERGENCY","count()":[3,1,3,3,2,2,null]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"ERROR","count()":[2741,4873,4881,4933,4984,5047,1498]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"INFO","count()":[52740,95998,98044,97769,96856,96823,28402]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"NONE","count()":[216991,614303,601403,551102,651072,566576,85231]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"NOTICE","count()":[174,310,348,291,335,353,140]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"SEVERE","count()":[51,84,103,99,98,99,32]},{"timeframe":{"start":"2024-03-28T14:45:00.000Z","end":"2024-03-28T15:20:00.000Z"},"interval":"300000000000","loglevel":"WARN","count()":[2463,4426,4532,4509,4496,4515,1275]}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| makeTimeseries by:{loglevel}, interval:5m, count()","timezone":"America/New_York","query":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":5351600207,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.793Z","end":"2024-03-28T15:17:16.793Z"},"locale":"und","executionTimeMilliseconds":1923,"notifications":[],"queryId":"114c3c3e-785c-424c-a71e-b8185beb146c","sampled":false}},"types":[{"mappings":{"timeframe":{"type":"timeframe"},"interval":{"type":"duration"},"loglevel":{"type":"string"},"count()":{"type":"array","types":[{"mappings":{"element":{"type":"double"}},"indexRange":[0,6]}]}},"indexRange":[0,7]}]},"notifications":[],"dateTime":"2024-03-28T15:17:16.793Z","input":{"value":"fetch logs\n|makeTimeseries count(), by:{loglevel}, interval:5m","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"f4e95ad0-4a9f-411e-97d7-4efedbdff643","type":"markdown","markdown":"##  Order results with sort and limit results\n* By default, the **SORT** command sorts records in ascending order.\n* We can also limit the number of results with the **LIMIT** command.\n\n## Exercise 2\n1. I want  to see the latest error logs. Show the latest 5 error logs (descending order) in the last 30 minutes. \n2. We have some teams that are putting way too much debug logging on in production and we want to give ice cream to the teams that have the smallest amount of debug logs in production. Count the number of debug logs per log source and short them in ascending order so the winner is at the top. "},{"id":"5f592f4f-0e6f-4670-aca3-191cc2c2d570","type":"dql","showTitle":false,"title":"Exercise 2.1 - Latest 5 Error Logs","state":{"input":{"value":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"timestamp"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"timestamp":"2024-03-28T11:16:59.000000000-04:00","content":"2024/03/28 15:16:59 failed to write to doppler.service.cf.internal:6067, retrying in 2.048s, err: dial tcp 10.0.5.17:6067: connect: connection refused","dt.entity.host":"HOST-1B39221F36E5F85C","dt.entity.process_group":"PROCESS_GROUP-517F4A0FBA17BB9C","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","dt.host_group.id":"demo-2-10-pipeline","dt.process.name":"syslog-agent","dt.source_entity":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","event.type":"LOG","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","log.source":"/var/vcap/data/sys/log/loggr-syslog-agent/loggr-syslog-agent.stderr.log","loglevel":"ERROR","process.technology":["BOSH process manager","Go"],"status":"ERROR"},{"timestamp":"2024-03-28T11:16:59.000000000-04:00","content":"2024/03/28 15:16:59 [error] 8#0: send() failed (111: Connection refused)","dt.entity.host":"HOST-E0988686630F4C29","dt.entity.process_group":"PROCESS_GROUP-79E6344B1B7E70A4","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-DB55EFEE04EFB32C","dt.host_group.id":"demo-2-10-pipeline","dt.process.name":"nginx","dt.source_entity":"PROCESS_GROUP_INSTANCE-DB55EFEE04EFB32C","event.type":"LOG","host.name":"cloud_controller/3a424150-2fa9-49de-8147-92b7511ef8eb","log.source":"/var/vcap/data/sys/log/cloud_controller_ng/nginx-error.log","loglevel":"ERROR","process.technology":["BOSH process manager","Nginx"],"status":"ERROR"},{"timestamp":"2024-03-28T11:16:58.000000000-04:00","content":"2024/03/28 15:16:58 failed to write to doppler.service.cf.internal:6067, retrying in 1.024s, err: dial tcp 10.0.5.17:6067: connect: connection refused","dt.entity.host":"HOST-1B39221F36E5F85C","dt.entity.process_group":"PROCESS_GROUP-517F4A0FBA17BB9C","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","dt.host_group.id":"demo-2-10-pipeline","dt.process.name":"syslog-agent","dt.source_entity":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","event.type":"LOG","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","log.source":"/var/vcap/data/sys/log/loggr-syslog-agent/loggr-syslog-agent.stderr.log","loglevel":"ERROR","process.technology":["BOSH process manager","Go"],"status":"ERROR"},{"timestamp":"2024-03-28T11:16:57.000000000-04:00","content":"2024/03/28 15:16:57 failed to write to doppler.service.cf.internal:6067, retrying in 1ms, err: dial tcp 10.0.5.17:6067: connect: connection refused","dt.entity.host":"HOST-1B39221F36E5F85C","dt.entity.process_group":"PROCESS_GROUP-517F4A0FBA17BB9C","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","dt.host_group.id":"demo-2-10-pipeline","dt.process.name":"syslog-agent","dt.source_entity":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","event.type":"LOG","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","log.source":"/var/vcap/data/sys/log/loggr-syslog-agent/loggr-syslog-agent.stderr.log","loglevel":"ERROR","process.technology":["BOSH process manager","Go"],"status":"ERROR"},{"timestamp":"2024-03-28T11:16:57.000000000-04:00","content":"2024/03/28 15:16:57 failed to write to doppler.service.cf.internal:6067, retrying in 1ms, err: dial tcp 10.0.5.17:6067: connect: connection refused","dt.entity.host":"HOST-1B39221F36E5F85C","dt.entity.process_group":"PROCESS_GROUP-517F4A0FBA17BB9C","dt.entity.process_group_instance":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","dt.host_group.id":"demo-2-10-pipeline","dt.process.name":"syslog-agent","dt.source_entity":"PROCESS_GROUP_INSTANCE-B8C8F6F7D6D72CD5","event.type":"LOG","host.name":"mysql_proxy/d6974a6e-4108-40f7-aa3b-8c1e41fdd55d","log.source":"/var/vcap/data/sys/log/loggr-syslog-agent/loggr-syslog-agent.stderr.log","loglevel":"ERROR","process.technology":["BOSH process manager","Go"],"status":"ERROR"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timezone":"America/New_York","query":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","scannedRecords":4349108,"dqlVersion":"V1_0","scannedBytes":286019004,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:16.795Z","end":"2024-03-28T15:17:16.795Z"},"locale":"und","executionTimeMilliseconds":27,"notifications":[],"queryId":"0ad37082-d27b-4e57-a9c8-3e28cc5ee80c","sampled":false}},"types":[{"mappings":{"timestamp":{"type":"timestamp"},"content":{"type":"string"},"dt.entity.host":{"type":"string"},"dt.entity.process_group":{"type":"string"},"dt.entity.process_group_instance":{"type":"string"},"dt.host_group.id":{"type":"string"},"dt.process.name":{"type":"string"},"dt.source_entity":{"type":"string"},"event.type":{"type":"string"},"host.name":{"type":"string"},"log.source":{"type":"string"},"loglevel":{"type":"string"},"process.technology":{"type":"array","types":[{"mappings":{"element":{"type":"string"}},"indexRange":[0,1]}]},"status":{"type":"string"}},"indexRange":[0,4]}]},"notifications":[],"dateTime":"2024-03-28T15:17:16.795Z","input":{"value":"fetch logs\n| filter loglevel == \"ERROR\"\n| sort timestamp desc\n| limit 5","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}},{"id":"ddfc6c35-a345-45a6-896d-4823f7d82549","type":"dql","showTitle":false,"title":"Exercise 2.2 - Ascending Debug Log Count","height":141,"state":{"input":{"value":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {log.source}\n| sort count","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}},"visualization":"table","state":"success","davis":{"includeLogs":true,"davisVisualization":{"isAvailable":true}},"visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"log.source","categoryAxisLabel":"log.source","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"log.source"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"firstVisibleRowIndex":0,"columnWidths":{"[\"loglevel\"]":97.99715423583984,"[\"log.source\"]":600,"[\"count()\"]":93.73579406738281,"[\"count\"]":83.9914779663086,"[\"debug\"]":87.99715423583984,"[\"k8s.namespace.name\"]":223.98863220214844,"[\"dt.process.name\"]":287.9971618652344}},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]},"honeycomb":{"shape":"square"}},"result":{"code":200,"value":{"records":[{"log.source":"/host/var/log/aws-routed-eni/ipamd.log","count":"2"},{"log.source":"C:\\Users\\Administrator\\.dynaTrace\\easyTravel 2.0.0\\easyTravel\\log\\CmdLauncher.log","count":"12"},{"log.source":"/home/labuser/.dynaTrace/easyTravel 2.0.0/easyTravel/log/CmdLauncher.log","count":"18"},{"log.source":"C:\\Windows\\System32\\config\\systemprofile\\.dynaTrace\\easyTravel 2.0.0\\easyTravel\\log\\uemload.log","count":"59"},{"log.source":"projects/dynatrace-demoability/logs/cloudfunctions.googleapis.com%2Fcloud-functions","count":"117"},{"log.source":"/var/vcap/data/sys/log/routing-api/routing-api.stdout.log","count":"238"},{"log.source":"/var/vcap/data/sys/log/replication-canary/replication-canary.stdout.log","count":"927"},{"log.source":"/home/ubuntu/.dynaTrace/easyTravel 2.0.0/easyTravel/log/WebLauncher.log","count":"2040"},{"log.source":"/var/vcap/data/sys/log/uaa/uaa.log","count":"2796"},{"log.source":"/home/labuser/.dynaTrace/easyTravel 2.0.0/easyTravel/log/uemload.log","count":"3588"},{"log.source":"/var/vcap/data/sys/log/mysql-metrics/mysql-metrics.log","count":"3595"},{"log.source":"/var/lib/docker/containers/8da05ba340751fc6ea3aad1dd6e08985e110ff4af0b1bde37a6789f7ffded34a/8da05ba340751fc6ea3aad1dd6e08985e110ff4af0b1bde37a6789f7ffded34a-json.log","count":"5778"},{"log.source":"/home/labuser/.dynaTrace/easyTravel 2.0.0/easyTravel/log/WebLauncher.log","count":"6694"},{"log.source":"Container Output","count":"7239"},{"log.source":"/var/log/syslog","count":"8459"}],"metadata":{"grail":{"canonicalQuery":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize by:{log.source}, count = count()\n| sort count","timezone":"America/New_York","query":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {log.source}\n| sort count","scannedRecords":4357964,"dqlVersion":"V1_0","scannedBytes":328538809,"scannedDataPoints":0,"analysisTimeframe":{"start":"2024-03-28T14:47:26.619Z","end":"2024-03-28T15:17:26.619Z"},"locale":"und","executionTimeMilliseconds":56,"notifications":[],"queryId":"f40c99f2-bc3d-4804-a9e5-2b8480a935ca","sampled":false}},"types":[{"mappings":{"log.source":{"type":"string"},"count":{"type":"long"}},"indexRange":[0,14]}]},"notifications":[],"dateTime":"2024-03-28T15:17:26.617Z","input":{"value":"fetch logs\n| filter loglevel == \"DEBUG\"\n| summarize count=count(), by: {log.source}\n| sort count","timeframe":{"from":"now-30m","to":"now","details":{"from":{"type":"expression","normalized":"now-30m","date":"2023-12-07T19:05:34.446Z"},"to":{"type":"expression","normalized":"now","date":"2023-12-07T19:35:34.446Z"}}}}}}}]}